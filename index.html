<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Cloudinary upload test</h1>
    <button id="upload_widget" class="cloudinary-button">Upload files</button>

    <script src="https://upload-widget.cloudinary.com/latest/global/all.js" type="text/javascript"></script>

    <script type="text/javascript">
        var myWidget = cloudinary.createUploadWidget({
            cloudName: 'diimb3b8g', // El nombre te lo dan al crear cuenta en Cloudinary. POR FAVOR NO USAR ESTA CONFIGURACIÓN TENÉIS QUE CREAR UNA CUENTA VOSOTROS. Eventualmente, habría que proteger esta información
            uploadPreset: 'public-preset' // Esto debes configurarlo tú. Buscar "upload presets" en la documentación de Cloudinary
        }, (error, result) => {
            if (!error && result && result.event === "success") {
                // Cuando se sube la foto de manera correcta al CDN, nos devuelve un objeto con la información de la misma. La parte más interesante es la url pública que ha generado.
                console.log('Done! Here is the image info: ', result.info);
            }
        }
        )

        document.getElementById("upload_widget").addEventListener("click", function () {
            myWidget.open();
        }, false);
    </script>
</body>

</html>